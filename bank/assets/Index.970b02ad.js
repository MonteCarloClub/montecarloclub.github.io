import{c as V,g as N,S as z,m as O,a as T,B as q,I as C,b as y,f as D,R as G}from"./Blockchain.c99c8b4a.js";import{_ as J}from"./index.20ef37ce.js";import{d as K,r as _,o as m,b as E,e as f,f as v,l as p,s as R,F as w,i as M}from"./vendor.2e2e4d27.js";const Q={class:"footer"},U={style:{overflow:"auto",flex:"1"}},X={class:"fullscene"},Y={class:"fullscene"},Z=K({setup($){const S=[{x:10,y:50,role:"block",title:"\u533A\u5757"},{x:50,y:50,role:"block",title:"\u533A\u5757"},{x:90,y:50,role:"block",title:"\u533A\u5757"},{x:10,y:10,role:"user",title:"\u5B66\u4E60\u8005"},{x:90,y:90,role:"user",title:"\u62DB\u8058\u5355\u4F4DHR"},{x:50,y:10,role:"institution",title:"\u53D1\u8BC1\u673A\u6784"},{x:10,y:90,role:"bank",title:"\u957F\u4E09\u89D2\u5B66\u5206\u94F6\u884C\uFF08\u4E0A\u6D77/\u6C5F\u82CF/\u6D59\u6C5F/\u5B89\u5FBD\uFF09"}],F=_(null),{nodes:r,screenWidth:L,screenHeight:H}=V(F,S),B=_(null),d=_(null),i=_(null),x=_(null),h=_(null),A=[{title:"\u5B66\u5206\u94F6\u884C\u90E8\u7F72\u667A\u80FD\u5408\u7EA6",handler:()=>new Promise((a,o)=>{const e=r.value.filter(n=>n.role==="bank");e.length===0&&o(1);const t=e[0],u=B.value;u.style.left=t.x+"px",u.style.top=t.y-64+"px",u.style.opacity="1";const s=r.value.filter(n=>n.role==="block");s.length===0&&o(1);const l=s[0];B.value&&y(B.value,{x:l.x,y:l.y-64},()=>a(1))})},{title:"\u5B66\u4E60\u8005\u6388\u6743\u673A\u6784\u9A8C\u8BC1\u5E76\u4E0A\u4F20\u5B66\u4E60\u6210\u679C",handler:()=>new Promise((a,o)=>{x.value&&D(x.value);const e=r.value.filter(c=>c.role==="user");e.length===0&&o(1);const t=e[0],u=i.value;u.style.left=t.x+"px",u.style.top=t.y+"px",u.style.opacity="1";const s=r.value.filter(c=>c.role==="institution");s.length===0&&o(1);const l=s[0];let n=0;const k=()=>{n+=1,n===2&&a(1)};i.value&&y(i.value,{x:l.x-64,y:l.y},()=>{const c=d.value;c.style.left=l.x+"px",c.style.top=l.y+"px",c.style.opacity="1";const g=r.value.filter(W=>W.role==="block");g.length===0&&o(1);const b=g[1];d.value&&y(d.value,{x:b.x,y:b.y-64},k),i.value&&y(i.value,{x:b.x-64,y:b.y-64},k)})})},{title:"\u53D1\u9001\u5B66\u4E60\u6210\u679C\u7684\u5730\u5740",handler:()=>new Promise((a,o)=>{const e=r.value.filter(n=>n.role==="user");e.length===0&&o(1);const t=e[0],u=h.value;u.style.left=t.x-64+"px",u.style.top=t.y+"px",u.style.opacity="1";const s=r.value.filter(n=>n.role==="bank");s.length===0&&o(1);const l=s[0];h.value&&y(h.value,{x:l.x-64,y:l.y},()=>a(1))})},{title:"\u5B66\u5206\u94F6\u884C\u901A\u8FC7\u667A\u80FD\u5408\u7EA6\u9A8C\u8BC1\u5E76\u5B58\u50A8\u5B66\u4E60\u6210\u679C",handler:()=>new Promise((a,o)=>{let e=0;const t=()=>{e+=1,e===3&&a(1)};h.value&&D(h.value,t);const u=r.value.filter(l=>l.role==="block");u.length===0&&o(1);const s=u[0];d.value&&y(d.value,{x:s.x+64+64,y:s.y-64},t),i.value&&y(i.value,{x:s.x+64,y:s.y-64},t)})},{title:"\u62DB\u8058\u5355\u4F4DHR\u83B7\u53D6\u5B66\u4E60\u6210\u679C\u5E76\u9A8C\u8BC1",handler:()=>new Promise((a,o)=>{const e=r.value.filter(l=>l.role==="block");e.length===0&&o(1);const t=e[2];let u=0;const s=()=>{if(u+=1,u===2){const l=i.value,n=x.value;n.style.left=l.style.left,n.style.top=l.style.top,n.style.opacity="1";const k=r.value.filter(g=>g.role==="user");k.length===0&&o(1);const c=k[1];x.value&&y(x.value,{x:c.x,y:c.y-64},()=>a(1))}};d.value&&y(d.value,{x:t.x+64,y:t.y-64},s),i.value&&y(i.value,{x:t.x,y:t.y-64},s)})}],{running:I,currentStep:P}=N(A,1);return(a,o)=>(m(),E(w,null,[f("div",Q,[v(z,{current:p(P),steps:A,disabled:p(I)},null,8,["current","disabled"])]),f("div",U,[f("div",{class:"scene",ref_key:"refWindow",ref:F,style:R({minWidth:p(O)+"px",minHeight:p(T)+"px"})},[f("div",X,[(m(!0),E(w,null,M(p(r),(e,t)=>(m(),E("div",{class:"node",style:R({left:e.x+"px",top:e.y+"px"})},[v(G,{role:e.role,title:e.title},null,8,["role","title"])],4))),256)),v(q,{nodes:p(r),width:p(L),height:p(H)},null,8,["nodes","width","height"])]),f("div",Y,[f("div",{ref_key:"refSmartContract",ref:B,style:{opacity:0},class:"node"},[v(C,{type:"contract",title:"\u667A\u80FD\u5408\u7EA6"})],512),f("div",{ref_key:"refLearningRecords",ref:i,style:{opacity:0},class:"node"},[v(C,{type:"record",title:"\u5B66\u4E60\u6210\u679C"})],512),f("div",{ref_key:"refVerifyRecords",ref:d,style:{opacity:0},class:"node"},[v(C,{type:"credential",title:"\u6210\u679C\u8BC1\u660E"})],512),f("div",{ref_key:"refLearningRecordsCopy",ref:x,style:{opacity:0},class:"node"},[v(C,{type:"record",title:"\u5B66\u4E60\u6210\u679C"})],512),f("div",{ref_key:"refLearningRecordAddress",ref:h,style:{opacity:0},class:"node"},[v(C,{type:"address",title:"\u5B66\u4E60\u6210\u679C\u94FE\u4E0A\u5730\u5740"})],512)])],4)])],64))}});var ue=J(Z,[["__scopeId","data-v-fe0cd612"]]);export{ue as default};
