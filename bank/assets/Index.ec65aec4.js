import{c as L,g as T,B as V,I as h,S as O,m as d,a as B,R as W,f as N}from"./Blockchain.8b2b2ccb.js";import{_ as z}from"./index.27017b01.js";import{d as H,r as v,o as C,b as E,e as i,F as m,i as q,l as k,f,s as G}from"./vendor.2e2e4d27.js";const J={class:"fullscene"},K={class:"fullscene"},M={class:"footer"},Q=H({setup(U){const A=[{x:20,y:50,role:"block",title:"\u533A\u5757"},{x:40,y:50,role:"block",title:"\u533A\u5757"},{x:60,y:50,role:"block",title:"\u533A\u5757"},{x:80,y:50,role:"block",title:"\u533A\u5757"},{x:20,y:80,role:"institution",title:"\u4E0A\u6D77\u5E02\u6559\u80B2\u673A\u6784"},{x:80,y:80,role:"institutionBlue",title:"\u82CF\u5DDE\u5E02\u6559\u80B2\u673A\u6784"},{x:40,y:20,role:"bank",title:"\u957F\u4E09\u89D2\u5B66\u5206\u94F6\u884C\uFF08\u4E0A\u6D77/\u6C5F\u82CF/\u6D59\u6C5F/\u5B89\u5FBD\uFF09"},{x:80,y:20,role:"user",title:"\u5B66\u4E60\u8005"}],F=v(null),{nodes:r,screenWidth:R,screenHeight:w}=L(F,A),y=v(null),c=v(null),_=v(null),p=v(null),x=v(null),b=v(null),D=[{title:"\u5B66\u5206\u94F6\u884C\u90E8\u7F72\u5B66\u5206\u8F6C\u6362\u7684\u667A\u80FD\u5408\u7EA6",handler:()=>new Promise((o,l)=>{const t=r.value.filter(n=>n.role==="bank");t.length===0&&l(1);const e=t[0],u=_.value;u.style.left=e.x+"px",u.style.top=e.y+"px",u.style.opacity="1";const s=r.value.filter(n=>n.role==="block");s.length===0&&l(1);const a=s[1];_.value&&d(_.value,{x:a.x,y:a.y-64},()=>o(1))})},{title:"\u673A\u6784\u5B58\u5165\u5B66\u4E60\u6210\u679C",handler:()=>new Promise((o,l)=>{const t=r.value.filter(n=>n.role==="institution");t.length===0&&l(1);const e=t[0],u=x.value;u.style.left=e.x+"px",u.style.top=e.y+"px",u.style.opacity="1";const s=r.value.filter(n=>n.role==="block");s.length===0&&l(1);const a=s[0];x.value&&d(x.value,{x:a.x,y:a.y-64},()=>o(1))})},{title:"\u521D\u59CB\u5316\u673A\u6784\u4E4B\u95F4\u7684\u8F6C\u6362",handler:()=>new Promise((o,l)=>{const t=r.value.filter(n=>n.role==="bank");t.length===0&&l(1);const e=t[0],u=c.value;u.style.left=e.x+"px",u.style.top=e.y+"px",u.style.opacity="1";const s=r.value.filter(n=>n.role==="user");s.length===0&&l(1);const a=s[0];c.value&&d(c.value,{x:a.x,y:a.y},()=>{const n=r.value.filter(P=>P.role==="block");n.length===0&&l(1);const g=n[3];c.value&&d(c.value,{x:g.x,y:g.y-64},()=>{o(1)})})})},{title:"\u83B7\u53D6\u94FE\u4E0B\u6570\u636E",handler:()=>new Promise((o,l)=>{const t=r.value.filter(s=>s.role==="user");t.length===0&&l(1);const e=t[0],u=y.value;u.style.left=e.x-64+"px",u.style.top=e.y+"px",y.value&&B(y.value,()=>o(1))})},{title:"\u5C06\u94FE\u4E0B\u6570\u636E\u53D1\u9001\u4E0A\u94FE",handler:()=>new Promise((o,l)=>{const t=r.value.filter(u=>u.role==="block");t.length===0&&l(1);const e=t[2];y.value&&d(y.value,{x:e.x,y:e.y-64},()=>o(1))})},{title:"\u9A8C\u8BC1\u5B66\u4E60\u6210\u679C\u5E76\u5B8C\u6210\u8F6C\u6362",handler:()=>new Promise((o,l)=>{const t=r.value.filter(a=>a.role==="institutionBlue");t.length===0&&l(1);const e=t[0],u=p.value;u.style.left=e.x+"px",u.style.top=e.y-64+"px";const s=b.value;s.style.left=e.x+96+"px",s.style.top=e.y-64+"px",x.value&&d(x.value,{x:e.x-64,y:e.y-64},()=>{p.value&&B(p.value,()=>{p.value&&N(p.value,()=>{c.value&&d(c.value,{x:e.x,y:e.y-64},()=>{b.value&&B(b.value,()=>{s.style.opacity="0",c.value.style.opacity="0",y.value.style.opacity="0",o(1)})})})})})})}],{running:S,currentStep:I}=T(D,1);return(o,l)=>(C(),E(m,null,[i("div",{class:"scene",ref_key:"refWindow",ref:F},[i("div",J,[(C(!0),E(m,null,q(k(r),(t,e)=>(C(),E("div",{class:"node",style:G({left:t.x+"px",top:t.y+"px"})},[f(W,{role:t.role,title:t.title},null,8,["role","title"])],4))),256)),f(V,{nodes:k(r),width:k(R),height:k(w)},null,8,["nodes","width","height"])]),i("div",K,[i("div",{ref_key:"refSmartContract",ref:_,style:{opacity:0},class:"node"},[f(h,{type:"contract",title:"\u667A\u80FD\u5408\u7EA6"})],512),i("div",{ref_key:"refLearningRecords",ref:x,style:{opacity:0},class:"node"},[f(h,{type:"record",title:"\u5B66\u4E60\u6210\u679C"})],512),i("div",{ref_key:"refTransferData",ref:c,style:{opacity:0},class:"node"},[f(h,{type:"transfer",title:"\u8F6C\u6362\u673A\u5236"})],512),i("div",{ref_key:"refOffChainData",ref:y,style:{opacity:0},class:"node"},[f(h,{type:"offChain",title:"\u94FE\u4E0B\u6570\u636E"})],512),i("div",{ref_key:"refVerifyRecords",ref:p,style:{opacity:0},class:"node"},[f(h,{type:"credential",title:"\u9A8C\u8BC1\u6210\u529F"})],512),i("div",{ref_key:"refTransferedLearningRecords",ref:b,style:{opacity:0},class:"node"},[f(h,{type:"transferred",title:"\u8F6C\u6362\u540E\u7684\u5B66\u4E60\u6210\u679C"})],512)])],512),i("div",M,[f(O,{current:k(I),steps:D,disabled:k(S)},null,8,["current","disabled"])])],64))}});var $=z(Q,[["__scopeId","data-v-ae9817ec"]]);export{$ as default};
