import{c as W,g as V,S as H,m as O,a as N,B as q,I as h,b as m,e as z,d as B,R as j,f as w}from"./Blockchain.c99c8b4a.js";import{_ as G}from"./index.20ef37ce.js";import{d as J,r as f,o as b,b as D,e as o,f as c,l as y,s as R,F as S,i as K,p as M,q as Q}from"./vendor.2e2e4d27.js";const U=k=>(M("data-v-310841bc"),k=k(),Q(),k),X={class:"footer"},Y={style:{overflow:"auto",flex:"1"}},Z={class:"fullscene"},$={class:"fullscene"},ee=U(()=>o("div",{style:{margin:"-32px auto"}}," \u53D1\u8D77\u8F6C\u6362\u7533\u8BF7 ",-1)),te=[ee],ue=J({setup(k){const I=[{x:10,y:50,role:"block",title:"\u533A\u5757"},{x:35,y:50,role:"block",title:"\u533A\u5757"},{x:60,y:50,role:"block",title:"\u533A\u5757"},{x:85,y:50,role:"block",title:"\u533A\u5757"},{x:10,y:90,role:"institution",title:"\u4E0A\u6D77\u5E02\u6559\u80B2\u673A\u6784"},{x:85,y:90,role:"institution",title:"\u6D59\u6C5F\u7701\u6559\u80B2\u673A\u6784"},{x:35,y:10,role:"bank",title:"\u957F\u4E09\u89D2\u5B66\u5206\u94F6\u884C\uFF08\u4E0A\u6D77/\u6C5F\u82CF/\u6D59\u6C5F/\u5B89\u5FBD\uFF09"},{x:85,y:10,role:"user",title:"\u5B66\u4E60\u8005"}],g=f(null),{nodes:i,screenWidth:E,screenHeight:L}=W(g,I),d=f(null),p=f(null),_=f(null),C=f(null),v=f(null),x=f(null),F=f(null),A=[{title:"\u5B66\u5206\u94F6\u884C\u90E8\u7F72\u5B66\u5206\u8F6C\u6362\u7684\u667A\u80FD\u5408\u7EA6",handler:()=>new Promise((r,l)=>{const t=i.value.filter(n=>n.role==="bank");t.length===0&&l(1);const e=t[0],u=C.value;u.style.left=e.x+"px",u.style.top=e.y+"px",u.style.opacity="1";const s=i.value.filter(n=>n.role==="block");s.length===0&&l(1);const a=s[1];C.value&&m(C.value,{x:a.x,y:a.y-64},()=>r(1))})},{title:"\u673A\u6784\u5B58\u5165\u5B66\u4E60\u6210\u679C",handler:()=>new Promise((r,l)=>{const t=i.value.filter(n=>n.role==="institution");t.length===0&&l(1);const e=t[0],u=x.value;u.style.left=e.x+"px",u.style.top=e.y+"px",u.style.opacity="1";const s=i.value.filter(n=>n.role==="block");s.length===0&&l(1);const a=s[0];x.value&&m(x.value,{x:a.x,y:a.y-64},()=>r(1))})},{title:"\u53D1\u8D77\u8F6C\u6362\u7533\u8BF7",handler:()=>new Promise((r,l)=>{const t=i.value.filter(n=>n.role==="bank");t.length===0&&l(1);const e=t[0],u=i.value.filter(n=>n.role==="user");u.length===0&&l(1);const s=u[0],a=d.value;a.style.right=E.value-s.x+64+"px",a.style.top=s.y+"px",a.style.opacity="1",d.value&&z(d.value,{x:e.x+64},()=>{d.value&&w(d.value,()=>r(1))})})},{title:"\u83B7\u53D6\u94FE\u4E0B\u6570\u636E",handler:()=>new Promise((r,l)=>{const t=i.value.filter(s=>s.role==="user");t.length===0&&l(1);const e=t[0],u=p.value;u.style.left=e.x-64+"px",u.style.top=e.y+"px",p.value&&B(p.value,()=>r(1))})},{title:"\u5C06\u94FE\u4E0B\u6570\u636E\u53D1\u9001\u4E0A\u94FE",handler:()=>new Promise((r,l)=>{const t=i.value.filter(u=>u.role==="block");t.length===0&&l(1);const e=t[2];p.value&&m(p.value,{x:e.x,y:e.y-64},()=>r(1))})},{title:"\u9A8C\u8BC1\u5B66\u4E60\u6210\u679C\u5E76\u5B8C\u6210\u8F6C\u6362",handler:()=>new Promise((r,l)=>{const t=i.value.filter(n=>n.role==="institution");t.length===0&&l(1);const e=t[1],u=v.value;u.style.left=e.x+"px",u.style.top=e.y-64+"px";const s=F.value;s.style.left=e.x+96+"px",s.style.top=e.y-64+"px";const a=_.value;a.style.left=e.x+"px",a.style.top=e.y-64+"px",x.value&&m(x.value,{x:e.x-64,y:e.y-64},()=>{v.value&&B(v.value,()=>{v.value&&w(v.value,()=>{_.value&&B(_.value,()=>{F.value&&B(F.value,()=>{s.style.opacity="0",_.value.style.opacity="0",p.value.style.opacity="0",d.value.style.opacity="0",r(1)})})})})})})}],{running:P,currentStep:T}=V(A,1);return(r,l)=>(b(),D(S,null,[o("div",X,[c(H,{current:y(T),steps:A,disabled:y(P)},null,8,["current","disabled"])]),o("div",Y,[o("div",{class:"scene",ref_key:"refWindow",ref:g,style:R({minWidth:y(O)+"px",minHeight:y(N)+"px"})},[o("div",Z,[(b(!0),D(S,null,K(y(i),(t,e)=>(b(),D("div",{class:"node",style:R({left:t.x+"px",top:t.y+"px"})},[c(j,{role:t.role,title:t.title},null,8,["role","title"])],4))),256)),c(q,{nodes:y(i),width:y(E),height:y(L)},null,8,["nodes","width","height"])]),o("div",$,[o("div",{ref_key:"refSmartContract",ref:C,style:{opacity:0},class:"node"},[c(h,{type:"contract",title:"\u667A\u80FD\u5408\u7EA6"})],512),o("div",{ref_key:"refLearningRecords",ref:x,style:{opacity:0},class:"node"},[c(h,{type:"record",title:"\u5B66\u4E60\u6210\u679C"})],512),o("div",{ref_key:"refTransferData",ref:_,style:{opacity:0},class:"node"},[c(h,{type:"transfer",title:"\u8F6C\u6362\u673A\u5236"})],512),o("div",{ref_key:"refOffChainData",ref:p,style:{opacity:0},class:"node"},[c(h,{type:"offChain",title:"\u94FE\u4E0B\u6570\u636E"})],512),o("div",{ref_key:"refVerifyRecords",ref:v,style:{opacity:0},class:"node"},[c(h,{type:"credential",title:"\u9A8C\u8BC1\u6210\u529F"})],512),o("div",{ref_key:"refTransferedLearningRecords",ref:F,style:{opacity:0},class:"node"},[c(h,{type:"transferred",title:"\u8F6C\u6362\u540E\u7684\u5B66\u4E60\u6210\u679C"})],512),o("div",{class:"line",ref_key:"refApplyArrow",ref:d,style:{opacity:0}},te,512)])],4)])],64))}});var oe=G(ue,[["__scopeId","data-v-310841bc"]]);export{oe as default};
