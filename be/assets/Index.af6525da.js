import{e as y,f as P,n as T,o as B,c as g,a as X,u as Y,d as p,t as C,F as M}from"./vendor.9ded8463.js";import{_ as S}from"./index.cd63e71d.js";function z(u,n){const{text:r,radius:s,color:c,size:x,gap:d,textX:w,textY:A,fontSize:v,speed:m}=n,e=u.getContext("2d"),o=u.width,f=u.height;var h=[],l={x:0,y:0};let F=Date.now();const D=5e3/o;function _(i,t,a){this.dest={x:i,y:t},this.r=x,this.x=i,this.y=0,this.vx=0,this.vy=m+Math.random()*m,this.accX=0,this.accY=0,this.friction=Math.random()*.05+.9,this.color=c,this.activeTime=a}_.prototype.render=function(){if(!(this.activeTime>F)){this.accX=(this.dest.x-this.x)/500,this.accY=(this.dest.y-this.y)/500,this.vx+=this.accX,this.vy+=this.accY,this.vx*=this.friction,this.vy*=this.friction,this.x+=this.vx,this.y+=this.vy,e.fillStyle=this.color,e.beginPath(),e.arc(this.x,this.y,this.r,Math.PI*2,!1),e.fill();var i=this.x-l.x,t=this.y-l.y,a=Math.sqrt(i*i+t*t);a<s&&(this.accX=(this.x-l.x)/500,this.accY=(this.y-l.y)/500,this.vx+=this.accX,this.vy+=this.accY)}};function b(){e.clearRect(0,0,u.width,u.height),e.font=`bold ${v}px sans-serif`,e.fillText(r,w,A+v);var i=e.getImageData(0,0,o,f).data;e.clearRect(0,0,o,f),e.globalCompositeOperation="screen",h=[];for(var t=0;t<o;t+=d)for(var a=0;a<f;a+=d)i[(t+a*o)*4+3]>150&&h.push(new _(t,a,I(t)));console.info(`\u7C92\u5B50\u6570 ${h.length}`)}function I(i){return F+i*D}function E(i){requestAnimationFrame(E),e.clearRect(0,0,u.width,u.height),F=Date.now(),h.map(t=>t.render())}return{init:function(){b(),requestAnimationFrame(E)}}}const H=y({props:{width:{type:Number,default:500},height:{type:Number,default:300},text:{type:String,default:"Hello World"}},setup(u){const n=u,r=P(null);return T(()=>{const s=r.value;if(s){s.width=n.width,s.height=n.height;var c=z(s,{text:n.text,color:"#000000",fontSize:36,radius:50,textX:24,textY:n.height-64,size:1,gap:2,speed:5});c.init()}}),(s,c)=>(B(),g("canvas",{ref_key:"canvasEl",ref:r},null,512))}});const N=y({setup(u){const n="KChain",r="\u81EA\u4E3B\u53EF\u63A7\u5E95\u5C42\u94FE",s="    \u4F60\u786E\u5B9E\u9700\u8981\u670D\u836F\uFF0C\u4F46\u6211\u7684\u60B2\u4F24\uFF0C\u7A81\u5982\u5176\u6765\u7684\u7126\u8651\uFF0C\u5B9E\u9645\u4E0A\u662F\u667A\u6167\u7684\u7B2C\u4E8C\u6765\u6E90\u2014\u2014\u751A\u81F3\u662F\u7B2C\u4E00\u6765\u6E90\u3002    \u5929\u4E00\u4E0B\u96E8\u6211\u5C31\u53D8\u5F97\u5026\u6020\u65E0\u529B\uFF0C\u968F\u7740\u4E0E\u70B9\u5F00\u59CB\u6572\u51FB\u7A97\u6237\uFF0C\u594F\u51FA\u9B4F\u5C14\u4F26\u7B14\u4E0B\u79CB\u5929\u7684\u300A\u54FD\u54BD\u300B\uFF0C    \u6211\u5C31\u66F4\u5BB9\u6613\u9677\u5165\u51A5\u60F3",c=window.innerWidth;return(x,d)=>(B(),g(M,null,[X(H,{text:n,width:Y(c),height:160},null,8,["width"]),p("div",{class:"page"},[p("h2",null,C(r)),p("div",{class:"desc"},C(s))])],64))}});var R=S(N,[["__scopeId","data-v-7b3a5a0b"]]);export{R as default};
